üö® ESP32 Vehicle Accident & SOS ReporterAn IoT-based system designed using the ESP32 to automatically detect vehicle accidents and provide a manual SOS function, sending real-time GPS coordinates via SMS to a predefined emergency contact.‚ú® FeaturesAutomatic Collision Detection: Monitors an accelerometer for sudden, high-impact changes to detect accidents.8-Second Grace Period: Allows the user to cancel the automatic accident report via the press of a button, preventing false alarms from hard bumps.Manual SOS Signaling: A long press (2 seconds) on the button immediately triggers an urgent SOS message, regardless of collision status.Real-time GPS Tracking: Integrates a GPS module to embed accurate location (latitude and longitude) in every alert message.Robust GSM Communication: Uses an AT-command-compatible GSM module (like the SIMA7670) to reliably send text message alerts.üõ†Ô∏è Components & WiringThis project requires an ESP32 and three key external modules.HardwareComponentDescriptionESP32 Dev BoardMain processor.AccelerometerDetects sudden movement and impact (e.g., ADXL345, though code uses analog read).GPS ModuleProvides location data (e.g., NEO-6M).GSM ModuleSends SMS alerts (e.g., SIMA7670, SIM800L).Momentary Push ButtonFor SOS signaling and cancellation.Pin ConfigurationComponentESP32 PinInterfacePurposeAccelerometer OutaccPin (GPIO 15)Analog InputCollision detection.SOS/Cancel ButtonBUTTON_PIN (GPIO 23)Digital Input (PULLUP)Manual trigger/cancellation.GPS RXGPIO 18 (Connected to GPS TX)HardwareSerial 1Receive GPS data (NMEA sentences).GPS TXGPIO 5 (Connected to GPS RX)HardwareSerial 1Transmit commands (optional).GSM RXGPIO 16 (Connected to GSM TX)HardwareSerial 2Receive GSM responses.GSM TXGPIO 17 (Connected to GSM RX)HardwareSerial 2Send AT commands.Status LEDGPIO 2Digital OutputHIGH when GPS lock is achieved.‚öôÔ∏è Setup and Configuration1. LibrariesInstall the following library in your Arduino IDE:TinyGPS++: Used for parsing the NMEA sentences from the GPS module.2. Code ConfigurationBefore uploading, modify these constants in the code (.ino file):VariableLocationDescriptionemergencyNumberTop of the codeREQUIRED: Replace "+918170839799" with the phone number that should receive the alerts.accPinTop of the codeEnsure this matches the GPIO pin where your accelerometer's analog output is connected.analogValue thresholdsInside loop()Adjust the magic numbers (202 and 800) to tune the collision sensitivity based on your specific accelerometer and vehicle environment.3. GSM InitializationThe setup() function attempts to initialize the GSM module.It tests common baud rates (115200 and 9600).If connected, it forces the GSM module to a fixed 9600 baud rate for reliable communication (AT+IPR=9600).It configures the module for sending SMS in text mode (AT+CMGF=1).üöÄ OperationAutomatic Accident AlertA strong impact is detected by the accelerometer (collition = 1).The system announces "Accident occurs" and starts an 8-second countdown.If the button is NOT pressed within 8 seconds:The system acquires the latest GPS coordinates.It calls sendsms() with the message:Accident Detected.\nLatitude: [lat]\nLongitude: [lng]If the button is pressed within 8 seconds, the alert is canceled, and the system resets.Manual SOS AlertThe user presses and holds the button on BUTTON_PIN for 2 seconds.The system immediately acquires the latest GPS coordinates.It calls sendsos() with the urgent message:SOS! Passenger is in Danger\nLatitude: [lat]\nLongitude: [lng]
